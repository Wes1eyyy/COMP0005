无向图和有向图是图论中的两种基本类型的图，它们在数据结构和应用上有着重要的区别。这两种图分别适用于不同的问题和场景。
[图的深度优先遍历/深度优先搜索_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1Qp4y1f7Wg/?spm_id_from=333.337.search-card.all.click&vd_source=1970b1cb79523da04f01ebdee092447d)
[图的广度优先遍历/广度优先搜索_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1VK411t74h/?spm_id_from=333.788.recommend_more_video.-1&vd_source=1970b1cb79523da04f01ebdee092447d)

![[Pasted image 20240513233007.png]]
### 无向图 (Undirected Graphs)

无向图是图中的一种，其中边没有方向。它表示图中两个顶点之间的双向关系。在无向图中，边是双向连接的，意味着如果存在一个从顶点 A 到顶点 B 的边，那么存在从顶点 B 到顶点 A 的边。

**特点**：
- **边是无向的**：顶点间的连接没有方向。
- **简单连接**：如果两个顶点之间有连接，顶点互为邻居。
- **表示**：通常用邻接矩阵或邻接表来表示，其中邻接矩阵是对称的。

**应用**：
- 社交网络中的朋友关系。
- 无线网络中设备的连接。
- 任何需要双向等价关系的场景。

### 有向图 (Directed Graphs)

有向图（或称为digraph）是图中的一种，其中所有的边都有特定的方向。这表示了从一个顶点到另一个顶点的单向关系。在有向图中，如果存在从顶点 A 到顶点 B 的边，不一定存在从顶点 B 到顶点 A 的边。

**特点**：
- **边是有方向的**：每条边从一个顶点指向另一个顶点。
- **不对称**：顶点 A 可以到顶点 B，但不意味着 B 可以到 A。
- **表示**：使用邻接矩阵或邻接表表示，邻接矩阵通常不对称。

**应用**：
- Web 页面之间的超链接（一个页面指向另一个页面）。
- 交通流的建模（如单行道）。
- 系统中的依赖关系（如任务调度和先决条件）。

### 比较

- **对称性**：无向图是对称的，即如果 A 与 B 相连，则 B 与 A 也相连。有向图则可能不对称。
- **数据结构**：在实现上，无向图每条边存储两次（A到B和B到A），而有向图每条边只存储一次。
- **遍历算法**：在无向图中进行图遍历（如 DFS 和 BFS）较简单，因为每个连接都是双向的；而在有向图中，遍历算法需要考虑边的方向，可能存在从一个顶点出发无法遍历整个图的情况。
- **环的概念**：在有向图中，环的检测更复杂，因为需要区分简单环和自环等。无向图中环的检测相对简单。

### 搜索基本原则
无论是有向图还是无向图，深度优先搜索的基本步骤包括：
- 从一个选定的顶点开始，访问该顶点。
- 递归地访问这个顶点的所有未访问过的邻接顶点。

### 主要区别

1. **边的方向**
   - **无向图**：每条边是双向的。如果顶点 A 与顶点 B 相连，那么在图中从 A 到 B 以及从 B 到 A 都是可能的。
   - **有向图**：每条边有确定的方向。如果存在从顶点 A 到顶点 B 的边，除非明确存在从 B 到 A 的反向边，否则不能从 B 返回到 A。

2. **遍历行为**
   - **无向图**：在遍历无向图时，每个顶点都会与其所有邻接点相连，形成一个连通区域。一次DFS可以遍历到所有与起始顶点连通的顶点。
   - **有向图**：在遍历有向图时，从一个顶点开始的DFS可能无法访问图中的所有顶点，因为某些顶点可能由于方向的限制而无法到达。

3. **连通性的探索**
   - **无向图**：DFS通常用来确定无向图中的连通分量。通过在图的每个未访问顶点上启动一次DFS，可以识别和标记所有连通分量。
   - **有向图**：DFS在有向图中用于多种高级分析，如检测环、找到强连通分量（使用 Kosaraju 或 Tarjan 算法），以及执行拓扑排序（只适用于有向无环图，DAG）。

4. **回边的检测（用于检测环）**
   - **无向图**：在DFS中，任何指向已访问顶点的边都可能被认为是回边，但实际上这些边只是因为无向图的双向性质。
   - **有向图**：在有向图的DFS中，回边的定义更加严格和重要，它表示存在从当前顶点到一个正在被探索的祖先顶点的路径，这是环的直接证据。

### 结论
虽然深度优先搜索的基本机制在有向图和无向图中保持一致，但有向图的方向性质引入了额外的复杂性和应用可能性。因此，在实现和使用DFS时，理解图的类型和它如何影响遍历是非常重要的。在有向图中，特别是在面对复杂的图结构如网络、状态机等时，DFS的实现需要更细致地处理边的方向和遍历过程中的状态管理。


深度优先搜索（DFS）是一种强大的图遍历技术，它不仅可以探索图中的所有顶点和边，而且在分析图的连通性方面也非常有效。在图论中，连通性是指图中顶点之间的可达性。对于无向图和有向图，连通性的定义略有不同，DFS都可以用来判断和分析这些属性。

### 无向图中的连通性

在无向图中，连通性意味着图中任意两个顶点之间都存在路径。使用DFS，我们可以轻松判断无向图的连通性：

1. **单一连通分量**：如果从任一顶点开始的DFS遍历能访问图中的所有顶点，则该图是连通的。
2. **多个连通分量**：如果DFS遍历不能从一个起点访问到所有顶点，这意味着图中存在多个连通分量。在这种情况下，DFS可以从未被访问的顶点重新启动，直到所有顶点都被访问过，每次启动DFS都标志着一个新的连通分量的发现。

### 有向图中的连通性

有向图的连通性更复杂，分为强连通和弱连通：
- **强连通**：如果图中的每对顶点都是互相可达的，则称该图为强连通。
- **弱连通**：如果将有向图的所有有向边替换为无向边后，图变成连通的，则称该图为弱连通。

使用DFS分析有向图的连通性：
- **弱连通分量**：可以通过简单地忽略边的方向并使用DFS来确定。
- **强连通分量**：需要更复杂的处理，例如Kosaraju算法或Tarjan算法，这些算法使用两次DFS来识别所有强连通分量。首先在原图上执行DFS来确定顶点的完成时间，然后在反向图（边的方向反转）上按完成时间的逆序执行第二次DFS。每次DFS可以发现一个强连通分量。

### DFS与连通性分析的实用性

DFS对于分析图的连通性特别有用，因为它能够：
- **高效地访问所有顶点和边**：DFS能够通过递归访问到每个顶点和从顶点发出的每条边。
- **发现连通分量**：通过标记访问过的顶点，DFS可以帮助识别图中的独立连通区域。
- **路径和环的探测**：在遍历的过程中，DFS还可以用来探测路径和环，这对于分析图的结构特性非常重要。

总之，深度优先搜索是探索图的连通性的一个非常强大的工具，适用于从算法分析到复杂网络系统的各种应用。通过对图进行深入的DFS探索，可以揭示图的结构和连接模式，为进一步的图形处理和分析提供基础。